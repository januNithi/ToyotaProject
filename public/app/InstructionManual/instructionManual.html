
<nav class="navbar navbar-default">
    <div class="navbar-header">
        <ul class="nav navbar-nav">
            <li><a href="#">Instruction Manual</a></li>

        </ul>
    </div>
    <div class="collapse navbar-collapse">

        <ul ng-show="loadInstruction" class="nav navbar-nav -align-center">
            <li ng-class="getClass('LT')"><a class="navbar-link" ng-click="showLeftTechnicianInstructions()">Left Technician</a></li>
            <li ng-class="getClass('I')"><a class="navbar-link" ng-click="showInstructorInstructions()">Instructor</a></li>
            <li ng-class="getClass('RT')"><a class="navbar-link" ng-click="showRightTechnicianInstructions()">Right Technician</a></li>

        </ul>
        <ul class="nav navbar-nav navbar-right">
            <li class='pull-right'>

                <a ng-click='goToDashboard()'>

                    <i class="fa fa-reply" aria-hidden="true"></i>

                </a>

            </li>
        </ul>
    </div>
</nav>

<div class="col-md-12">

    <div class="row">
        <div class="col-md-12">
            <h4 class="page-head-line">Instructions</h4>
        </div>
    </div>

    <div ng-hide="loadInstruction" class="container-fluid">

        <div class="form">

            <div class="form-group">

                <label class="control-label" for="model">Choose Model</label>

                <select id="model" ng-model="choosenModel" ng-change="modelSelected(choosenModel)" class="form-control">

                    <option ng-value="mdl.MName" ng-repeat="mdl in models">{{mdl.MName}}</option>

                </select>

            </div>

            <div class="form-group">

                <label class="control-label" for="serviceType">Choose Service</label>

                <select id="serviceType" ng-model="choosenService" ng-change="serviceSelected(choosenService)" class="form-control">

                    <option ng-value="service.MType" ng-repeat="service in services">{{service.MType}}</option>

                </select>

            </div>

        </div>

    </div>

    <div ng-show="loadInstruction" class="container-fluid">
        <div class="row">

            <div>
                <!-- your page content -->

                <div class="row">

                    <div class="col-md-4">

                        Model : {{instructions[0].model}}

                    </div>

                    <div class="col-md-3">

                        Service : {{instructions[0].service}}

                    </div>

                    <!--<div class="col-md-2">-->

                        <!--<a ng-hide="onEdit" ng-click="editData()"><i class="fa fa-pencil-square-o" aria-hidden="true">Edit All</i></a>-->
                        <!--<a ng-show="onEdit" ng-click="updateData()"><i class="fa fa-check" aria-hidden="true">Update</i></a>-->
                        <!--<a ng-show="onEdit" ng-click="cancelUpdate()"><i class="fa fa-close" aria-hidden="true">Cancel</i></a>-->

                    <!--</div>-->


                </div>

                <div ng-show="LT">

                    <div class="panel panel-primary">

                        <div class="panel-heading">Left Technician Instructions</div>

                        <div class="panel-body">
                            <div class="container col-md-12" style="border: groove;word-wrap: break-word">
                                <div class="row">

                                    <div class="col-xs-6">

                                        <div class="col-xs-1"><strong>Task ID</strong></div>
                                        <div class="col-xs-2"><strong>Left Technician</strong></div>
                                        <div class="col-xs-3"><strong>Process</strong></div>
                                        <div class="col-xs-3"><strong>Inference</strong></div>
                                        <div class="col-xs-3"><strong>Picture</strong></div>

                                    </div>

                                    <div class="col-xs-6">
                                        <div class="col-xs-1"><strong>Tools</strong></div>
                                        <div class="col-xs-2"><strong>Measurement</strong></div>
                                        <div class="col-xs-2"><strong>L-Flag</strong></div>
                                        <div class="col-xs-2"><strong>I-Flag</strong></div>
                                        <div class="col-xs-3"><strong>value</strong></div>
                                        <div class="col-xs-1"><strong>Time</strong></div>
                                        <div class="col-xs-1" ng-show="!onEdit"><strong>Edit /Delete</strong></div>
                                    </div>
                                </div>
                            </div>

                            <div class="container col-md-12 pull" style="max-height: 500px;overflow-y: scroll;border: groove;word-wrap: break-word">

                                <div class="row" ng-repeat="instruction in dataFilter_l "  style="border: groove">

                                    <div class="col-xs-6">

                                        <div class="col-xs-1" ng-show="instruction.taskId_l">

                                            {{instruction.taskId_l}}

                                        </div>
                                        <div class="col-xs-2" ng-show="instruction.taskId_l">

                                            <div ng-hide="onEdit || instruction.isEdit">{{instruction.task_l}}</div>
                                            <div ng-show="onEdit || instruction.isEdit">

                                                <textArea rows="5" class="form-control" ng-model="instruction.task_l"></textArea>

                                            </div>

                                        </div>
                                        <div class="col-xs-3" ng-show="instruction.taskId_l">

                                            <div ng-hide="onEdit || instruction.isEdit">{{instruction.process_l}}</div>
                                            <div ng-show="onEdit || instruction.isEdit">

                                                <textarea rows="5" class="form-control" ng-model="instruction.process_l"></textarea>

                                            </div>


                                        </div>
                                        <div class="col-xs-3" ng-show="instruction.taskId_l">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.inference_l}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <textarea rows="5" class="form-control" ng-model="instruction.inference_l"></textarea>

                                            </div>

                                        </div>

                                        <div class="col-xs-3" ng-show="instruction.taskId_l">

                                            <img ngf-src="showImage(instruction.picture_l)" class="image-holder img-responsive" ng-click="triggerUpload(instruction,'picture_l',instruction.id+'-LT')" width = '100'/>

                                            <input type="file" ngf-select ng-model="file" name="file" ngf-pattern="'image/*'" accept="image/*" ngf-max-size="20MB" id="{{instruction.id + '-LT'}}" style="display:none" onchange="angular.element(this).scope().uploadFile(this.files)"/>

                                        </div>

                                    </div>

                                    <div class="col-xs-6">

                                        <div class="col-xs-1" ng-show="instruction.taskId_l">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.tools_l}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <textarea rows="5" class="form-control" ng-model="instruction.tools_l"></textarea>

                                            </div>
                                        </div>
                                        <div class="col-xs-2" ng-show="instruction.taskId_l">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.measurement_l}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <textarea rows="5" class="form-control" ng-model="instruction.measurement_l"></textarea>

                                            </div>
                                        </div>
                                        <div class="col-xs-2" ng-show="instruction.taskId_l">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{(instruction.Lflag_l == '0')?'In-Active':'Active'}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <select class="form-control" ng-model = "instruction.Lflag_l">

                                                    <option value="{{a.id}}" ng-repeat="a in flags">{{a.value}}</option>

                                                </select>

                                            </div>
                                        </div>
                                        <div class="col-xs-2" ng-show="instruction.taskId_l">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{(instruction.Iflag_l == '0')?'In-Active':'Active'}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <select class="form-control" ng-model = "instruction.Iflag_l">

                                                    <option value="{{a.id}}" ng-repeat="a in flags">{{a.value}}</option>

                                                </select>

                                            </div>
                                        </div>
                                        <div class="col-xs-3" ng-show="instruction.taskId_l">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.add_value_l}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <select  class="form-control" ng-model="instruction.value_l">

                                                    <option value="0" selected>Select Measures</option>

                                                    <option value="{{mData.Mid}}" ng-repeat="mData in measuresData">{{mData.MName}}</option>

                                                </select>

                                            </div>
                                        </div>

                                        <div class="col-xs-1" ng-show="instruction.taskId_l">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.timeTaken_l}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <div ng-show="onEdit || instruction.isEdit" >

                                                    <textarea rows="5" class="form-control" ng-model="instruction.timeTaken_l"></textarea>

                                                </div>

                                            </div>
                                        </div>

                                        <div class="col-xs-1" ng-show="instruction.taskId_l && !onEdit">

                                            <a ng-hide="instruction.isEdit" ng-click="editSingleInstruction(instruction,'LT')"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                                            <!--<a ng-hide="instruction.isEdit" ng-click="deleteInstruction(instruction,'LT')"><i class="fa fa-times-circle" aria-hidden="true"></i></a>-->
                                            <a ng-show="instruction.isEdit" ng-click="updateSingleInstruction(instruction)"><i class="fa fa-check" aria-hidden="true"></i></a>
                                            <a ng-show="instruction.isEdit" ng-click="cancelUpdateSingleInstruction(instruction,'LT')"><i class="fa fa-close" aria-hidden="true"></i></a>

                                        </div>

                                    </div>

                                </div>

                            </div>


                            <!--<div>-->
                                <!--<label>Swap Task:</label>-->
                                <!--<div class="form-group">-->

                                    <!--<select class="form-control" ng-model = "choosenTaskId_l">-->

                                        <!--<option ng-if="a.taskId_l" value="{{a.taskId_l}}" ng-repeat="a in instructions">{{a.taskId_l}}</option>-->

                                    <!--</select>-->


                                <!--</div>-->

                                <!--<div class="form-group">-->

                                    <!--<select class="form-control" ng-model = "choosenTaskId_l1">-->

                                        <!--<option ng-if="a.taskId_l" value="{{a.taskId_l}}" ng-repeat="a in instructions">{{a.taskId_l}}</option>-->

                                    <!--</select>-->

                                <!--</div>-->

                            <!--</div>-->

                        </div>

                        <div class="panel-footer">


                            <div ng-hide="showPagination('L')" class="pager">

                                <pagination
                                        ng-model="cur_page_l"
                                        total-items="totalLength_l"
                                        items-per-page="items_per_page_l"
                                        max-size="max_size_l"
                                        boundary-links="true">
                                </pagination>

                            </div>

                        </div>

                    </div>


                </div>
                <div ng-show="I">

                    <div class="panel panel-primary">

                        <div class="panel-heading">Instructor Instructions</div>

                        <div class="panel-body">

                            <div class="container col-md-12" style="border: groove;word-wrap: break-word">
                                <div class="row">

                                    <div class="col-xs-6">

                                        <div class="col-xs-1"><strong>Task ID</strong></div>
                                        <div class="col-xs-2"><strong>Instructor</strong></div>
                                        <div class="col-xs-3"><strong>Process</strong></div>
                                        <div class="col-xs-3"><strong>Inference</strong></div>
                                        <div class="col-xs-3"><strong>Picture</strong></div>

                                    </div>

                                    <div class="col-xs-6">

                                        <div class="col-xs-2"><strong>Tools</strong></div>
                                        <div class="col-xs-3"><strong>Measurement</strong></div>
                                        <div class="col-xs-2"><strong>I-Flag</strong></div>
                                        <div class="col-xs-3"><strong>value</strong></div>
                                        <div class="col-xs-1"><strong>Time</strong></div>
                                        <div class="col-xs-2" ng-show="!onEdit"><strong>Edit /Delete</strong></div>

                                    </div>
                                </div>
                            </div>

                            <div class="container col-md-12" style="max-height: 500px;overflow-y: scroll;border: groove;word-wrap: break-word">

                                <div class="row" ng-repeat="instruction in dataFilter_i"  style="border: groove">

                                    <div class="col-xs-6">

                                        <div class="col-xs-1" ng-show="instruction.taskId_i">{{instruction.taskId_i}}</div>
                                        <div class="col-xs-2" ng-show="instruction.taskId_i">
                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.task_i}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <textarea rows="5" class="form-control" ng-model="instruction.task_i"></textarea>

                                            </div>
                                        </div>
                                        <div class="col-xs-3" ng-show="instruction.taskId_i">
                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.process_i}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <textarea rows="5" class="form-control" ng-model="instruction.process_i"></textarea>

                                            </div>
                                        </div>
                                        <div class="col-xs-3" ng-show="instruction.taskId_i">
                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.inference_i}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <textarea rows="5" class="form-control" ng-model="instruction.inference_i"></textarea>

                                            </div>
                                        </div>
                                        <div class="col-xs-3" ng-show="instruction.taskId_i">

                                            <img ngf-src="showImage(instruction.picture_i)" class="image-holder img-responsive" ng-click="triggerUpload(instruction,'picture_i',instruction.id+'-I')" width = '100'/>

                                            <input type="file" ngf-select ng-model="file" name="file" ngf-pattern="'image/*'" accept="image/*" ngf-max-size="20MB" id="{{instruction.id + '-I'}}" style="display:none" onchange="angular.element(this).scope().uploadFile(this.files)"/>

                                        </div>

                                    </div>

                                    <div class="col-xs-6">

                                        <div class="col-xs-2" ng-show="instruction.taskId_i">
                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.tools_i}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <textarea rows="5" class="form-control" ng-model="instruction.tools_i"></textarea>

                                            </div>
                                        </div>
                                        <div class="col-xs-3" ng-show="instruction.taskId_i">
                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.measurement_i}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <textarea rows="5" class="form-control" ng-model="instruction.measurement_i"></textarea>

                                            </div>
                                        </div>
                                        <div class="col-xs-2" ng-show="instruction.taskId_i">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{(instruction.Iflag_i == '1')?'Active':'In-Active'}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <select class="form-control" ng-model = "instruction.Iflag_i">

                                                    <option value="{{a.id}}" ng-repeat="a in flags">{{a.value}}</option>

                                                </select>

                                            </div>
                                        </div>
                                        <div class="col-xs-3" ng-show="instruction.taskId_i">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.add_value_i}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <select  class="form-control" ng-model="instruction.value_i">

                                                    <option value="0" selected>Select Measures</option>

                                                    <option value="{{mData.Mid}}" ng-repeat="mData in measuresData">{{mData.MName}}</option>

                                                </select>

                                            </div>
                                        </div>
                                        <div class="col-xs-1" ng-show="instruction.taskId_i">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.timeTaken_i}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <div ng-show="onEdit || instruction.isEdit" >

                                                    <textarea rows="5" class="form-control" ng-model="instruction.timeTaken_i"></textarea>

                                                </div>

                                            </div>
                                        </div>
                                        <div class="col-xs-1" ng-show="instruction.taskId_i && !onEdit">

                                            <a ng-hide="instruction.isEdit" ng-click="editSingleInstruction(instruction,'I')"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                                            <!--<a ng-hide="instruction.isEdit" ng-click="deleteInstruction(instruction,'I')"><i class="fa fa-times-circle" aria-hidden="true"></i></a>-->
                                            <a ng-show="instruction.isEdit" ng-click="updateSingleInstruction(instruction)"><i class="fa fa-check" aria-hidden="true"></i></a>
                                            <a ng-show="instruction.isEdit" ng-click="cancelUpdateSingleInstruction(instruction,'I')"><i class="fa fa-close" aria-hidden="true"></i></a>

                                        </div>

                                    </div>

                                </div>

                            </div>

                        </div>

                        <div class="panel-footer">

                            <div ng-hide="showPagination('I')" class="pager">

                                <pagination
                                        ng-model="cur_page_i"
                                        total-items="totalLength_i"
                                        items-per-page="items_per_page_i"
                                        max-size="max_size_i"
                                        boundary-links="true">
                                </pagination>

                            </div>

                        </div>
                    </div>
                </div>
                <div ng-show="RT">

                    <div class="panel panel-primary">

                        <div class="panel-heading">Right Technician Instructions</div>

                        <div class="panel-body">

                            <div class="container col-md-12" style="border: groove;word-wrap: break-word">
                                <div class="row">

                                    <div class="col-xs-6">

                                        <div class="col-xs-1"><strong>Task ID</strong></div>
                                        <div class="col-xs-2"><strong>Right Technician</strong></div>
                                        <div class="col-xs-3"><strong>Process</strong></div>
                                        <div class="col-xs-3"><strong>Inference</strong></div>
                                        <div class="col-xs-2"><strong>Picture</strong></div>

                                    </div>
                                    <div class="col-xs-6">
                                        <div class="col-xs-1"><strong>Tools</strong></div>
                                        <div class="col-xs-2"><strong>Measurement</strong></div>
                                        <div class="col-xs-2"><strong>R-Flag</strong></div>
                                        <div class="col-xs-2"><strong>I-Flag</strong></div>
                                        <div class="col-xs-3"><strong>value</strong></div>
                                        <div class="col-xs-1"><strong>Time</strong></div>
                                        <div class="col-xs-1" ng-show="!onEdit"><strong>Edit /Delete</strong></div>
                                    </div>

                                </div>
                            </div>

                            <div class="container col-md-12" style="max-height: 500px;overflow-y: scroll;border: groove;word-wrap: break-word">

                                <div class="row" ng-repeat="instruction in dataFilter_r"  style="border: groove">

                                    <div class="col-xs-6">

                                        <div class="col-xs-1" ng-show="instruction.taskId_r">{{instruction.taskId_r}}</div>
                                        <div class="col-xs-2" ng-show="instruction.taskId_r">
                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.task_r}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <textarea rows="5" class="form-control" ng-model="instruction.task_r"></textarea>

                                            </div>
                                        </div>
                                        <div class="col-xs-3" ng-show="instruction.taskId_r">
                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.process_r}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <textarea rows="5" class="form-control" ng-model="instruction.process_r"></textarea>

                                            </div>
                                        </div>
                                        <div class="col-xs-3" ng-show="instruction.taskId_r">
                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.inference_r}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <textarea rows="5" class="form-control" ng-model="instruction.inference_r"></textarea>

                                            </div>
                                        </div>
                                        <div class="col-xs-3" ng-show="instruction.taskId_r">

                                            <img ngf-src="showImage(instruction.picture_r)" class="image-holder img-responsive" ng-click="triggerUpload(instruction,'picture_r',instruction.id+'-RT')" width = '100'/>

                                            <input type="file" ngf-select ng-model="file" name="file" ngf-pattern="'image/*'" accept="image/*" ngf-max-size="20MB" id="{{instruction.id + '-RT'}}" style="display:none" onchange="angular.element(this).scope().uploadFile(this.files)"/>

                                        </div>

                                    </div>

                                    <div class="col-xs-6">

                                        <div class="col-xs-1" ng-show="instruction.taskId_r">
                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.tools_r}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <textarea rows="5" class="form-control" ng-model="instruction.tools_r"></textarea>

                                            </div>
                                        </div>
                                        <div class="col-xs-2" ng-show="instruction.taskId_r">
                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.measurement_r}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <textarea rows="5" class="form-control" ng-model="instruction.measurement_r"></textarea>

                                            </div>
                                        </div>
                                        <div class="col-xs-2" ng-show="instruction.taskId_r">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{(instruction.Rflag_r == '0')?'In-Active':'Active'}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <select class="form-control" ng-model = "instruction.Rflag_r">

                                                    <option value="{{a.id}}" ng-repeat="a in flags">{{a.value}}</option>

                                                </select>

                                            </div>
                                        </div>
                                        <div class="col-xs-2" ng-show="instruction.taskId_r">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{(instruction.Iflag_r == '0')?'In-Active':'Active'}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <select class="form-control" ng-model = "instruction.Iflag_r">

                                                    <option value="{{a.id}}" ng-repeat="a in flags">{{a.value}}</option>

                                                </select>

                                            </div>
                                        </div>
                                        <div class="col-xs-3" ng-show="instruction.taskId_r">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.add_value_r}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <select  class="form-control" ng-model="instruction.value_r">

                                                    <option value="0" selected>Select Measures</option>

                                                    <option value="{{mData.Mid}}" ng-repeat="mData in measuresData">{{mData.MName}}</option>

                                                </select>

                                            </div>
                                        </div>

                                        <div class="col-xs-1" ng-show="instruction.taskId_r">

                                            <div ng-hide="onEdit || instruction.isEdit" >{{instruction.timeTaken_r}}</div>
                                            <div ng-show="onEdit || instruction.isEdit" >

                                                <div ng-show="onEdit || instruction.isEdit" >

                                                    <textarea rows="5" class="form-control" ng-model="instruction.timeTaken_r"></textarea>

                                                </div>

                                            </div>
                                        </div>

                                        <div class="col-xs-1" ng-show="instruction.taskId_r && !onEdit">

                                            <a ng-hide="instruction.isEdit" ng-click="editSingleInstruction(instruction,'RT')"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                                            <!--<a ng-hide="instruction.isEdit" ng-click="deleteInstruction(instruction,'RT')"><i class="fa fa-times-circle" aria-hidden="true"></i></a>-->
                                            <a ng-show="instruction.isEdit" ng-click="updateSingleInstruction(instruction)"><i class="fa fa-check" aria-hidden="true"></i></a>
                                            <a ng-show="instruction.isEdit" ng-click="cancelUpdateSingleInstruction(instruction,'RT')"><i class="fa fa-close" aria-hidden="true"></i></a>

                                        </div>

                                    </div>

                                </div>
                            </div>

                        </div>

                        <div class="panel-footer">

                            <div ng-hide="showPagination('R')" class="pager">

                                <pagination
                                        ng-model="cur_page_r"
                                        total-items="totalLength_r"
                                        items-per-page="items_per_page_r"
                                        max-size="max_size_r"
                                        boundary-links="true">
                                </pagination>

                            </div>

                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>



</div>