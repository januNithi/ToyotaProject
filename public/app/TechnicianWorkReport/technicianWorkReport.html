
<script type="text/javascript">
    $(document).ready(function() {
        $(".reportDropDown").select2();
    });
</script>

<spinner name="html5spinner" ng-cloak="">
    <div class="overlay"></div>
    <div class="spinner">
        <div class="double-bounce1"></div>
        <div class="double-bounce2"></div>
    </div>
    <div class="please-wait">Please Wait...</div>
</spinner>


<nav class="navbar navbar-default">
    <div class="navbar-header">
        <ul class="nav navbar-nav">
            <li><a href="#">Work Done Report</a></li>

        </ul>
    </div>
    <div class="collapse navbar-collapse">

        <ul class="nav navbar-nav navbar-right">
            <li class='pull-right'  ng-show="loadReport">

                <a ng-click="printDiv('ReportDiv')">

                    <i class="fa fa-download" aria-hidden="true"></i>

                </a>

            </li>

            <li>

                <a ng-click='goToDashboard()'>

                    <i class="fa fa-reply" aria-hidden="true"></i>

                </a>

            </li>
        </ul>
    </div>
</nav>

<div class="col-md-12">

    <div class="row">
        <div class="col-md-12">
            <h4 class="page-head-line">Work Completed Report</h4>
        </div>
    </div>

    <div ng-hide="loadReport" class="container-fluid">

        <div class="form">

            <div class="form-group">

                <label class="control-label" for="model">Choose Registered Id</label>

                <select id="model" ng-model="choosenId" ng-change="registrationIdSelected(choosenId)" class="reportDropDown form-control">

                    <option ng-value="rgstr.Sid" ng-repeat="rgstr in registrations">{{rgstr.Sid}}</option>

                </select>

            </div>

        </div>

    </div>

    <div ng-show="loadReport" id="ReportDiv">

        <div class="row">

            <div class="col-md-2">

                Service ID : {{choosenId}}

            </div>

            <div class="col-md-2">

                Model : {{model}}

            </div>

            <div class="col-md-2">

                Service Type: {{service}}

            </div>

            <div class="col-md-2">

                Additional : {{(Addno!="")?Addno : "Not Applicable"}}

            </div>

            <div class="col-md-2">

                Date : {{date | date:'dd MMM yyyy'}}

            </div>

            <div class="col-md-2">

                Total Time Taken : {{time +' Minutes'}}

            </div>

        </div>

        <div class="panel panel-primary">

            <div class="panel-heading">Completed Work Report</div>

            <div class="panel-body">

                <table class="table table-striped">

                    <thead>

                        <tr>
                            <th class="col-xs-3"><strong>Task</strong></th>
                            <th class="col-xs-2"><strong>Std Value</strong></th>
                            <th class="col-xs-2"><strong>Values</strong></th>
                            <th class="col-xs-3"><strong>Image</strong></th>
                            <th class="col-xs-2"><strong>QC</strong></th>
                        </tr>

                    </thead>

                    <tbody>

                        <tr ng-repeat="rprtData in reportData " >

                            <td class="col-xs-3">{{rprtData.Task}}</td>
                            <td class="col-xs-2">

                                <div ng-if="rprtData.Standard_Value[0] != ''">{{rprtData.Standard_Value[0]}}</div>
                                <div ng-if="rprtData.Standard_Value[1]!= ''">{{rprtData.Standard_Value[1]}}</div>
                                <div ng-if="rprtData.Standard_Value[2]!= ''">{{rprtData.Standard_Value[2]}}</div>
                                <div ng-if="rprtData.Standard_Value[3]!= ''">{{rprtData.Standard_Value[3]}}</div>
                                <div ng-if="rprtData.Standard_Value[4]!= ''">{{rprtData.Standard_Value[4]}}</div>
                                <div ng-if="rprtData.Standard_Value[5]!= ''">{{rprtData.Standard_Value[5]}}</div>

                            </td>
                            <td class="col-xs-2">

                                <div >{{rprtData.Concluded_Value[0]}}</div>
                                <div >{{rprtData.Concluded_Value[1]}}</div>
                                <div >{{rprtData.Concluded_Value[2]}}</div>
                                <div >{{rprtData.Concluded_Value[3]}}</div>
                                <div >{{rprtData.Concluded_Value[4]}}</div>
                                <div >{{rprtData.Concluded_Value[5]}}</div>

                            </td>
                            <td class="col-xs-3">

                                <img ngf-src="showImage(rprtData.Captured_Picture)" class="image-holder img-responsive"/>

                            </td>
                            <td class="col-xs-2">

                                {{rprtData.QC}}

                            </td>


                        </tr>

                    </tbody>

                </table>

            </div>

        </div>

    </div>

</div>